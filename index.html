<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Sha ❤️</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Playfair Display', serif;
            overflow: hidden; /* Prevent scrolling background */
            background-color: #fef2f2; /* red-50 */
        }
        .handwritten {
            font-family: 'Dancing Script', cursive;
        }

        /* --- ENVELOPE STYLES --- */
        .envelope-container {
            position: relative;
            width: 300px;
            height: 200px;
            perspective: 1000px;
            cursor: pointer;
            margin: 0 auto;
        }

        .envelope {
            position: relative;
            width: 100%;
            height: 100%;
            background-color: #ef4444; /* Red-500 */
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            border-radius: 0 0 10px 10px;
            z-index: 10;
        }

        /* The Flaps */
        .flap {
            position: absolute;
            width: 0;
            height: 0;
            z-index: 20;
        }
        .flap.left {
            border-top: 100px solid transparent;
            border-bottom: 100px solid transparent;
            border-left: 150px solid #dc2626; /* Red-600 */
            top: 0; left: 0;
        }
        .flap.right {
            border-top: 100px solid transparent;
            border-bottom: 100px solid transparent;
            border-right: 150px solid #dc2626;
            top: 0; right: 0;
        }
        .flap.bottom {
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            border-bottom: 110px solid #b91c1c; /* Red-700 */
            bottom: 0; left: 0;
            border-radius: 0 0 10px 10px;
            z-index: 25;
        }
        .flap.top {
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            border-top: 110px solid #f87171; /* Red-400 */
            top: 0; left: 0;
            transform-origin: top;
            transition: transform 0.6s ease-in-out, z-index 0.2s 0.2s;
            z-index: 30;
        }

        /* The Heart Sticker */
        .heart-seal {
            position: absolute;
            top: 60px;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 30px;
            color: #fbbf24;
            z-index: 35;
            transition: transform 0.6s;
        }

        /* The "Fake" Letter inside the envelope (for animation only) */
        .letter-preview {
            position: absolute;
            bottom: 0;
            left: 10px;
            width: 280px;
            height: 150px;
            background: white;
            z-index: 15;
            transition: transform 0.6s ease-in-out;
            border-radius: 5px;
            box-shadow: 0 -2px 5px rgba(0,0,0,0.1);
        }

        /* --- OPEN STATE ANIMATIONS --- */
        .open .flap.top {
            transform: rotateX(180deg);
            z-index: 1;
        }
        .open .heart-seal {
            opacity: 0;
        }
        .open .letter-preview {
            transform: translateY(-120px); 
            opacity: 0; 
            transition-delay: 0.4s;
        }

        /* --- THE REAL LETTER (MODAL) --- */
        #final-letter {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.5);
            width: 90%;
            max-width: 400px;
            
            /* SCROLLABLE LOGIC HERE */
            max-height: 80vh;   /* Limit height to 80% of viewport */
            min-height: 300px;  /* Minimum height */
            overflow-y: auto;   /* Scroll if content is too long */
            
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            z-index: 60;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease-in-out, transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 4px solid #fecaca;
        }
        
        #final-letter.show {
            opacity: 1;
            pointer-events: auto;
            transform: translate(-50%, -50%) scale(1);
        }
        
        /* Custom Scrollbar for nicer look */
        #final-letter::-webkit-scrollbar {
            width: 6px;
        }
        #final-letter::-webkit-scrollbar-track {
            background: #f1f1f1; 
            border-radius: 4px;
        }
        #final-letter::-webkit-scrollbar-thumb {
            background: #fca5a5; 
            border-radius: 4px;
        }
        #final-letter::-webkit-scrollbar-thumb:hover {
            background: #ef4444; 
        }

        /* Floating Hearts BG Animation */
        .bg-heart {
            position: absolute;
            color: rgba(220, 38, 38, 0.2);
            font-size: 20px;
            animation: floatUp 15s linear infinite;
            bottom: -50px;
        }
        @keyframes floatUp {
            0% { transform: translateY(0) scale(0.5); opacity: 0; }
            50% { opacity: 0.8; }
            100% { transform: translateY(-110vh) scale(1.2); opacity: 0; }
        }

    </style>
</head>
<body class="h-screen flex flex-col items-center justify-center relative w-full bg-gradient-to-b from-red-50 to-pink-100">

    <div id="bg-hearts" class="absolute inset-0 overflow-hidden pointer-events-none w-full h-full"></div>

    <h1 id="title" class="text-4xl md:text-6xl text-red-800 font-serif mb-16 transition-opacity duration-500 z-10 drop-shadow-sm">
        For You
    </h1>

    <div id="envelope-container" class="envelope-container">
        <div class="envelope">
            <div class="flap top">
                <div class="heart-seal">❤</div>
            </div>
            <div class="flap left"></div>
            <div class="flap right"></div>
            <div class="flap bottom"></div>
            
            <div class="letter-preview"></div> 
        </div>
    </div>

    <button id="openBtn" class="mt-20 px-10 py-3 bg-red-600 hover:bg-red-700 text-white font-bold rounded-full shadow-lg transition transform hover:scale-110 active:scale-95 z-50 animate-bounce">
        Open This Sha
    </button>

    <div id="final-letter">
        <div class="flex flex-col items-center">
            <p class="handwritten text-3xl text-red-600 font-bold mb-6 self-start">Dear Sha,</p>
            
            <div class="handwritten text-xl text-gray-800 leading-relaxed text-justify w-full space-y-4">
                <p>
                    I made this letter just for you.
                </p>
                <p>
                    ​I want you to know exactly why I’m here and what you mean to me. I want to show you, every single day, just how much you are truly worth. My goal is to show you what real, genuine love feels like—the kind where you never have to wonder if you’re enough. 
                </p>
                <p>
                    I want us to spend our time making memories and laughing until it hurts, but I also want us to grow together and learn about life side-by-side. I’m ready to be there through the tough times that you experience, because I want to be your home—that safe place you can always come back to. 
                </p>
                <p>
                    You deserve a love that is real and consistent, and I’m so ready to give that to you. I will always be loyal to you. I want to see you win. I want to see you overcome all of the barriers you face, and I want to see you succeed to any dream that you want to pursue. 
                </p>
                <p>
                    Remember baby I'm your biggest fan, your top supporter, your best friend, and my first and last.
                </p>
                <p class="text-center text-2xl mt-6">
                    Happy Valentine's Day! <span class="text-red-500">♥</span>
                </p>
            </div>
            
            <p class="handwritten text-xl text-gray-600 mt-8 self-end font-bold">- Ren</p>

            <button onclick="closeLetter()" class="mt-8 text-xs text-gray-400 hover:text-red-500 uppercase tracking-widest transition">
                Close Envelope
            </button>
        </div>
    </div>

    <script>
        const envelope = document.getElementById('envelope-container');
        const openBtn = document.getElementById('openBtn');
        const finalLetter = document.getElementById('final-letter');
        const title = document.getElementById('title');

        openBtn.addEventListener('click', () => {
            envelope.classList.add('open');
            openBtn.classList.add('hidden');
            title.style.opacity = '0';

            setTimeout(() => {
                finalLetter.classList.add('show');
            }, 600);
            
            createBurstHearts();
        });

        function closeLetter() {
            finalLetter.classList.remove('show');
            setTimeout(() => {
                envelope.classList.remove('open');
                openBtn.classList.remove('hidden');
                title.style.opacity = '1';
            }, 500);
        }

        function createBgHearts() {
            const container = document.getElementById('bg-hearts');
            for (let i = 0; i < 20; i++) {
                const heart = document.createElement('div');
                heart.innerHTML = '❤';
                heart.className = 'bg-heart';
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDuration = Math.random() * 10 + 10 + 's';
                heart.style.animationDelay = Math.random() * 10 + 's';
                heart.style.fontSize = Math.random() * 20 + 10 + 'px';
                container.appendChild(heart);
            }
        }
        createBgHearts();

        function createBurstHearts() {
            for(let i=0; i<40; i++) {
                const heart = document.createElement('div');
                heart.innerHTML = '❤';
                heart.classList.add('absolute', 'text-red-500', 'text-2xl', 'z-[100]', 'pointer-events-none');
                heart.style.left = '50%';
                heart.style.top = '50%';
                document.body.appendChild(heart);

                const x = (Math.random() - 0.5) * window.innerWidth * 0.8;
                const y = (Math.random() - 1) * window.innerHeight * 0.8;
                const rotate = (Math.random() - 0.5) * 360;
                
                const animation = heart.animate([
                    { transform: 'translate(-50%, -50%) scale(0) rotate(0deg)', opacity: 1 },
                    { transform: `translate(${x}px, ${y}px) scale(1.5) rotate(${rotate}deg)`, opacity: 0 }
                ], {
                    duration: 1500 + Math.random() * 1000,
                    easing: 'cubic-bezier(0, .9, .57, 1)'
                });

                animation.onfinish = () => heart.remove();
            }
        }
    </script>
</body>
</html>